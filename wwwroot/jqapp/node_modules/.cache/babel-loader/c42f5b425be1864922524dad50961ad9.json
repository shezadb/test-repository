{"remainingRequest":"C:\\Users\\bshah\\jqapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bshah\\jqapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\bshah\\jqapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bshah\\jqapp\\src\\components\\kpvitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bshah\\jqapp\\src\\components\\kpvitem.vue","mtime":1673239483850},{"path":"C:\\Users\\bshah\\jqapp\\babel.config.js","mtime":1670545998670},{"path":"C:\\Users\\bshah\\jqapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bshah\\jqapp\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bshah\\jqapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bshah\\jqapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\bshah\\\\jqapp\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport JqxButton from 'jqwidgets-scripts/jqwidgets-vue/vue_jqxbuttons.vue';\nimport JqxGrid from \"jqwidgets-scripts/jqwidgets-vue/vue_jqxgrid.vue\";\nimport axios from 'axios';\nimport servicesds from \"../Shared/servicesds.js\";\nimport { store } from \"../Shared/store.js\";\nexport default {\n  data: function data() {\n    return {\n      kpiDataItem: [],\n      errors: [],\n      dataAdapter: new jqx.dataAdapter(this.source, {\n        loadComplete: function loadComplete(data) {\n          console.log('data is loaded.'); // data = data;\n\n          console.log(data);\n          console.log(store.state.count);\n          return data;\n        },\n        loadError: function loadError(xhr, status, error) {\n          console.log('data is not loaded.');\n        }\n      }),\n      columns: [{\n        text: 'Tag Name',\n        datafield: 'tagName',\n        width: 140\n      }, {\n        text: 'CurrentValue',\n        datafield: 'currentValue',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Monday',\n        datafield: 'monday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Tuesday',\n        datafield: 'tuesday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Wednesday',\n        datafield: 'wednesday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Thursday',\n        datafield: 'thursday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Friday',\n        datafield: 'friday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Saturday',\n        datafield: 'saturday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'Sunday',\n        datafield: 'sunday',\n        width: 100,\n        validation: function validation(cell, value) {\n          if (value < 0 || value > 150) {\n            return {\n              result: false,\n              message: 'Value should be in the 0-150 interval'\n            };\n          }\n\n          return true;\n        }\n      }, {\n        text: 'id',\n        datafield: 'id',\n        width: 50\n      }]\n    };\n  },\n  beforeCreate: function () {\n    var _beforeCreate = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // this. source1 =  this.loadItems();\n              this.source = {\n                datatype: 'json',\n                datafields: [{\n                  name: 'tagName',\n                  type: 'string'\n                }, {\n                  name: 'currentValue',\n                  type: 'float'\n                }, {\n                  name: 'monday',\n                  type: 'float'\n                }, {\n                  name: 'tuesday',\n                  type: 'float'\n                }, {\n                  name: 'wednesday',\n                  type: 'float'\n                }, {\n                  name: 'thursday',\n                  type: 'float'\n                }, {\n                  name: 'friday',\n                  type: 'float'\n                }, {\n                  name: 'saturday',\n                  type: 'float'\n                }, {\n                  name: 'sunday',\n                  type: 'float'\n                }, {\n                  name: 'id',\n                  type: 'int'\n                }],\n                url: 'http://localhost:5000/api/kpvitem',\n                // root: 'data',\n                contenttype: 'application/json' // root: 'data',\n                //type: 'GET',\n\n              };\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function beforeCreate() {\n      return _beforeCreate.apply(this, arguments);\n    }\n\n    return beforeCreate;\n  }(),\n  components: {\n    JqxGrid: JqxGrid,\n    JqxButton: JqxButton\n  },\n  methods: {\n    onCellendedit: function onCellendedit(event) {\n      this.kpiDataItem = event.args.row; // console.log(event.args.row);\n      //  this.updateValues(event.args.row,event.args.row.uid);\n    },\n    addRecord: function addRecord() {\n      var value = this.$refs.grid.getrows();\n      var firstColumnData = [];\n      var result = \"\";\n\n      for (var i = 0; i < value.length; i++) {\n        firstColumnData.push(value[i].id);\n      } // alert(Math.max.apply(Math, firstColumnData));\n\n\n      var nextId = Math.max.apply(Math, firstColumnData) + 1; // var rowCount = value.length;\n\n      var newWeek = {\n        \"id\": nextId,\n        \"tagName\": \"Tag ??\",\n        \"currentValue\": 0,\n        \"monday\": 0,\n        \"tuesday\": 0,\n        \"wednesday\": 0,\n        \"thursday\": 0,\n        \"friday\": 0,\n        \"saturday\": 0,\n        \"sunday\": 0\n      }; //console.log(\"add row\")\n      //console.log(this.$refs.grid);\n\n      servicesds.addValuesAxios(newWeek);\n      this.refreshItems(); //console.log(this.$refs.grid.getrowdata(0));\n    },\n    deleteRecord: function deleteRecord() {\n      console.log(\"delete pressed\");\n      var rowIndex = this.$refs.grid.getselectedrowindex();\n      var rowData = this.$refs.grid.getrowdata(rowIndex);\n      console.log(rowData);\n      servicesds.deleteValuesAxios(rowData, rowData.id);\n      this.refreshItems();\n    },\n    onCellvaluechanged: function onCellvaluechanged(event) {\n      console.log(event.args);\n      console.log(this.kpiDataItem); //  alert('do something...');\n\n      console.log('check');\n      console.log(this.kpiDataItem.id);\n      servicesds.updateValuesCellAxios(this.kpiDataItem, this.kpiDataItem.id);\n    },\n    refreshItems: function refreshItems() {\n      //  console.log(\"aaa\");\n      this.$refs.grid.updatebounddata();\n      console.log(\"ddd\");\n    },\n    loadItems: function () {\n      var _loadItems = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.source = {\n                  datatype: 'json',\n                  datafields: [{\n                    name: 'tagName',\n                    type: 'string'\n                  }, {\n                    name: 'currentValue',\n                    type: 'float'\n                  }, {\n                    name: 'monday',\n                    type: 'float'\n                  }, {\n                    name: 'tuesday',\n                    type: 'float'\n                  }, {\n                    name: 'wednesday',\n                    type: 'float'\n                  }, {\n                    name: 'thursday',\n                    type: 'float'\n                  }, {\n                    name: 'friday',\n                    type: 'float'\n                  }, {\n                    name: 'saturday',\n                    type: 'float'\n                  }, {\n                    name: 'sunday',\n                    type: 'float'\n                  }, {\n                    name: 'ID',\n                    type: 'int'\n                  }],\n                  url: 'http://localhost:5000/api/kpvitem',\n                  contenttype: 'application/json'\n                };\n                return _context2.abrupt(\"return\", this.source);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadItems() {\n        return _loadItems.apply(this, arguments);\n      }\n\n      return loadItems;\n    }()\n  }\n};",{"version":3,"sources":["kpvitem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n\r\n      <div>\r\n        <JqxGrid ref=\"grid\" :width=\"993\" :autoheight=\"true\" @cellendedit=\"onCellendedit($event)\" \r\n        :theme=\"'bootstrap'\" :editable=\"true\" @cellvaluechanged=\"onCellvaluechanged($event)\"\r\n        :source=\"dataAdapter\" :columns=\"columns\" :altrows=\"true\" />\r\n      </div>\r\n      <div>        \r\n          <JqxButton @click=\"refreshItems\" :template=\"'success'\" :width=\"80\" \r\n          style=\"float: left; margin-left: 4px; margin-top: 10px\">Refresh</JqxButton>\r\n      </div>\r\n      <div>\r\n          <JqxButton :template=\"'warning'\" :width=\"80\" @click=\"deleteRecord()\"\r\n          style=\"float: left; margin-left: 4px; margin-top: 10px\">Delete</JqxButton>\r\n        \r\n      </div>\r\n      <div>\r\n        <JqxButton v-on:click= \"addRecord()\" :template=\"'primary'\" :width=\"80\" \r\n        style=\"float: left; margin-left: 4px; \r\n         margin-top: 10px\">Add Row</JqxButton>\r\n      \r\n    </div>\r\n    <div>\r\n      <div>\r\n      <button @click=\"$store.dispatch('incrementCount')\" hidden>Increment</button>\r\n      <button @click=\"$store.dispatch('decrementCount')\">Decrement</button>\r\n      <div>{{ $store.state.count }}</div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport JqxButton from 'jqwidgets-scripts/jqwidgets-vue/vue_jqxbuttons.vue';\r\nimport JqxGrid from \"jqwidgets-scripts/jqwidgets-vue/vue_jqxgrid.vue\";\r\nimport axios from 'axios';\r\nimport servicesds from '../Shared/servicesds.js'\r\nimport { store } from '../Shared/store.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n        kpiDataItem: [],\r\n        errors: [],\r\n       dataAdapter: new jqx.dataAdapter(this.source,{\r\n    loadComplete: function (data) {\r\n        console.log('data is loaded.')\r\n       // data = data;\r\n         console.log(data); \r\n         console.log(store.state.count);\r\n       return data;   \r\n    },   \r\n    loadError: function (xhr, status, error) {\r\n        console.log('data is not loaded.')\r\n    }}),\r\n        columns: [\r\n          { text: 'Tag Name', datafield: 'tagName', width: 140},\r\n          { text: 'CurrentValue', datafield: 'currentValue', width: 100 , validation: (cell, value) => {\r\n               if (value < 0 || value > 150) {\r\n                  return { result: false, message: 'Value should be in the 0-150 interval' };\r\n                }\r\n                return true;},},\r\n          { text: 'Monday', datafield: 'monday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n          { text: 'Tuesday', datafield: 'tuesday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                  return { result: false, message: 'Value should be in the 0-150 interval' };\r\n                }\r\n                return true;\r\n              },\r\n          },\r\n          { text: 'Wednesday', datafield: 'wednesday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n          { text: 'Thursday', datafield: 'thursday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n          { text: 'Friday', datafield: 'friday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n          { text: 'Saturday', datafield: 'saturday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n          { text: 'Sunday', datafield: 'sunday', width: 100, validation: (cell, value) => {\r\n              if (value < 0 || value > 150) {\r\n                return { result: false, message: 'Value should be in the 0-150 interval' };\r\n              }\r\n              return true;},},\r\n              { text: 'id', datafield: 'id', width: 50},\r\n        ],\r\n    }\r\n  },\r\n  \r\n  async beforeCreate() {\r\n\r\n     // this. source1 =  this.loadItems();\r\n      this.source = {      \r\n        datatype: 'json',\r\n        datafields: [\r\n          { name: 'tagName', type: 'string' },\r\n          { name: 'currentValue', type: 'float' },\r\n          { name: 'monday', type: 'float' },\r\n          { name: 'tuesday', type: 'float' },\r\n          { name: 'wednesday', type: 'float' },\r\n          { name: 'thursday', type: 'float'},\r\n          { name: 'friday', type: 'float'},\r\n          { name: 'saturday', type: 'float'},\r\n          { name: 'sunday', type: 'float'},\r\n          { name: 'id', type: 'int'}\r\n        ],\r\n        url: 'http://localhost:5000/api/kpvitem',\r\n       // root: 'data',\r\n\r\n        contenttype: 'application/json',\r\n       // root: 'data',\r\n       //type: 'GET',\r\n        \r\n      };\r\n    },\r\n   components: {\r\n      JqxGrid,JqxButton, \r\n    },\r\n    methods: {\r\n        onCellendedit: function (event) {\r\n          this.kpiDataItem = event.args.row;\r\n       // console.log(event.args.row);\r\n      //  this.updateValues(event.args.row,event.args.row.uid);\r\n      },\r\n      \r\n      addRecord() {\r\n        const value = this.$refs.grid.getrows();\r\n         var firstColumnData = [];\r\n         var result = \"\";\r\n          for (var i = 0; i < value.length; i++) {\r\n            firstColumnData.push(value[i].id);\r\n          }\r\n       // alert(Math.max.apply(Math, firstColumnData));\r\n        var nextId = Math.max.apply(Math, firstColumnData) + 1;\r\n       // var rowCount = value.length;\r\n        const newWeek = {  \"id\": nextId,\r\n                            \"tagName\": \"Tag ??\",\r\n                            \"currentValue\":0,\r\n                            \"monday\":0,\r\n                            \"tuesday\":0,\r\n                            \"wednesday\":0,\r\n                            \"thursday\":0,\r\n                            \"friday\":0,\r\n                            \"saturday\":0,\r\n                            \"sunday\":0};\r\n\r\n        //console.log(\"add row\")\r\n        //console.log(this.$refs.grid);\r\n        servicesds.addValuesAxios(newWeek);\r\n        this.refreshItems();\r\n        //console.log(this.$refs.grid.getrowdata(0));\r\n      },\r\n      deleteRecord() {\r\n        console.log(\"delete pressed\");\r\n        const rowIndex = this.$refs.grid.getselectedrowindex();\r\n        const rowData = this.$refs.grid.getrowdata(rowIndex);\r\n        console.log(rowData);\r\n        servicesds.deleteValuesAxios(rowData, rowData.id);\r\n        this.refreshItems();\r\n      },\r\n      onCellvaluechanged: function (event) {\r\n        console.log(event.args);\r\n        console.log(this.kpiDataItem);\r\n      //  alert('do something...');\r\n        console.log('check');\r\n        console.log(this.kpiDataItem.id)\r\n        servicesds.updateValuesCellAxios(this.kpiDataItem,this.kpiDataItem.id);\r\n      },\r\n      refreshItems() {\r\n      //  console.log(\"aaa\");\r\n        this.$refs.grid.updatebounddata();\r\n        console.log(\"ddd\");\r\n        \r\n      },\r\n    \r\n\r\n    async loadItems() {\r\n        this.source = {      \r\n        datatype: 'json',\r\n        datafields: [\r\n          { name: 'tagName', type: 'string' },\r\n          { name: 'currentValue', type: 'float' },\r\n          { name: 'monday', type: 'float' },\r\n          { name: 'tuesday', type: 'float' },\r\n          { name: 'wednesday', type: 'float' },\r\n          { name: 'thursday', type: 'float'},\r\n          { name: 'friday', type: 'float'},\r\n          { name: 'saturday', type: 'float'},\r\n          { name: 'sunday', type: 'float'},\r\n          { name: 'ID', type: 'int'}\r\n        ],\r\n        url: 'http://localhost:5000/api/kpvitem',\r\n        contenttype: 'application/json',\r\n      };\r\n      \r\n        return this.source;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style src='../assets/styles/jqwidgets/jqx.base.css'></style>\r\n<style src='../assets/styles/jqwidgets/jqx.bootstrap.css'></style>"],"sourceRoot":"src/components"}]}